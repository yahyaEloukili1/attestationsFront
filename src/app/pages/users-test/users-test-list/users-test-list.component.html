<div class="province-page">

  <div class="row g-4 align-items-stretch">

    <!-- ✅ COLONNE GAUCHE : INDICATEURS -->
    <div class="col-md-3 d-flex flex-column gap-4">

      <!-- ✅ INDICATEURS TERRITORIAUX -->
      <div class="panel-card indicators-card">
        <div class="panel-header text-center">Indicateurs territoriaux</div>

        <div class="panel-body">
          <div class="row g-3">

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Superficie (km²)</div>
                  <div class="indicator-value">140 018</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-map"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Densité (Hab./Km²)</div>
                  <div class="indicator-value">3,2</div>
                </div>
                <div class="indicator-icon soft-blue">
                  <i class="bi bi-people"></i>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- ✅ INDICATEURS DÉMOGRAPHIQUES -->
      <div class="panel-card indicators-card">
        <div class="panel-header text-center">Indicateurs démographiques</div>

        <div class="panel-body">
          <div class="row g-3">

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Population totale</div>
                  <div class="indicator-value">451 028</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-people-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Répartition (Urbaine / Rurale)</div>

                  <div class="split-mini">
                    <div class="split-mini-box">
                      <div class="split-mini-label">Urbaine</div>
                      <div class="split-mini-val">416 636</div>
                      <div class="split-mini-pct">92,37%</div>
                    </div>

                    <div class="split-mini-box">
                      <div class="split-mini-label">Rurale</div>
                      <div class="split-mini-val">34 392</div>
                      <div class="split-mini-pct">7,62%</div>
                    </div>
                  </div>

                </div>

                <div class="indicator-icon soft-gray">
                  <i class="bi bi-diagram-2-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Ménages</div>
                  <div class="indicator-value">106 751</div>
                </div>
                <div class="indicator-icon soft-gray">
                  <i class="bi bi-house-door-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Taille du ménage</div>
                  <div class="indicator-value">3,9</div>
                  <div class="mini-note">personnes/ménage</div>
                </div>
                <div class="indicator-icon soft-blue">
                  <i class="bi bi-people"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Femmes</div>
                  <div class="indicator-value">49%</div>
                </div>
                <div class="indicator-icon soft-red">
                  <i class="bi bi-gender-female"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Hommes</div>
                  <div class="indicator-value">51%</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-gender-male"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Taux d’urbanisation</div>
                  <div class="indicator-value">92,4%</div>
                </div>
                <div class="indicator-icon soft-green">
                  <i class="bi bi-building"></i>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- ✅ INDICATEURS SOCIO-ÉCONOMIQUES -->
      <!-- (tu peux ajouter ici si tu veux) -->

    </div>

    <!-- ✅ COLONNE DROITE : MAP -->
    <div class="col-md-6">
      <div class="panel-card map-card">
        <div class="panel-header text-center">Province de Laayoune</div>
        <div class="panel-body map-body">
          <div #mapContainer id="map"></div>
        </div>
      </div>
    </div>

    <!-- ✅ COLONNE DROITE : INDICATEURS -->
    <div class="col-md-3 d-flex flex-column gap-4">

      <!-- ✅ INDICATEURS SOCIO-ÉCONOMIQUES -->
      <div class="panel-card indicators-card">
        <div class="panel-header text-center">Indicateurs socio-économiques</div>

        <div class="panel-body">
          <div class="row g-3">

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Taux d’activité</div>
                  <div class="indicator-value">46,4%</div>
                  <div class="mini-note">(41,6% National)</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-briefcase-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Pauvreté multi-dimensionnelle</div>
                  <div class="indicator-value">2,40%</div>
                  <div class="mini-note">(6,8% National)</div>
                </div>
                <div class="indicator-icon soft-gray">
                  <i class="bi bi-cash-coin"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Taux de chômage</div>
                  <div class="indicator-value">26,6%</div>
                  <div class="mini-note">(21,3% National)</div>
                </div>
                <div class="indicator-icon soft-red">
                  <i class="bi bi-exclamation-triangle-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Taux de vulnérabilité</div>
                  <div class="indicator-value">1,3%</div>
                  <div class="mini-note">(12,9% National)</div>
                </div>
                <div class="indicator-icon soft-yellow">
                  <i class="bi bi-shield-fill-exclamation"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Préscolarisation</div>
                  <div class="indicator-value">…%</div>
                  <div class="mini-note">(62,7% National)</div>
                </div>
                <div class="indicator-icon soft-green">
                  <i class="bi bi-mortarboard-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Scolarisation (6 ans et +)</div>
                  <div class="indicator-value">96,6%</div>
                  <div class="mini-note">(95,8% National)</div>
                </div>
                <div class="indicator-icon soft-blue">
                  <i class="bi bi-book-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Analphabétisme (10 ans et +)</div>
                  <div class="indicator-value">15,3%</div>
                  <div class="mini-note">(24,8% National)</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-journal-text"></i>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- ✅ Evolution -->
      <div class="panel-card evolution-card">
        <div class="panel-header text-center">Evolution de la population de la région</div>

        <div class="panel-body evo-body">
          <div class="evo-chart">
            <svg class="evo-svg" viewBox="0 0 520 170" preserveAspectRatio="none">
              <rect x="45" y="18" width="455" height="105" class="evo-area"/>

              <line x1="45" y1="123" x2="500" y2="123" class="evo-grid"/>
              <line x1="45" y1="88"  x2="500" y2="88"  class="evo-grid"/>
              <line x1="45" y1="53"  x2="500" y2="53"  class="evo-grid"/>

              <text x="10" y="127" class="evo-y">0</text>
              <text x="10" y="92"  class="evo-y">200000</text>
              <text x="10" y="57"  class="evo-y">400000</text>
              <text x="10" y="22"  class="evo-y">600000</text>

              <circle cx="120" cy="66" r="7" class="evo-dot"/>
              <text x="120" y="45" text-anchor="middle" class="evo-val">316578</text>

              <circle cx="285" cy="58" r="7" class="evo-dot"/>
              <text x="285" y="37" text-anchor="middle" class="evo-val">367758</text>

              <circle cx="450" cy="44" r="7" class="evo-dot"/>
              <text x="450" y="23" text-anchor="middle" class="evo-val">451028</text>

              <polyline points="120,66 285,58 450,44" class="evo-line"/>

              <text x="120" y="155" text-anchor="middle" class="evo-x">2004</text>
              <text x="285" y="155" text-anchor="middle" class="evo-x">2014</text>
              <text x="450" y="155" text-anchor="middle" class="evo-x">2024</text>
            </svg>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ✅ BUTTONS -->
  <div class="hstack gap-2 mt-5 justify-content-center">

    <button type="button" class="btn btn-lg mise-btn text-center"
      [class.is-active]="miseVisible" (click)="toggleMise()">
      <i class="bi" [ngClass]="miseVisible ? 'bi-check-circle-fill' : 'bi-geo-alt-fill'"></i>
      Mise à niveau
    </button>

    <button type="button" class="btn btn-lg education-btn text-center"
      [class.is-active]="educationVisible" (click)="toggleEducation()">
      <i class="bi" [ngClass]="educationVisible ? 'bi-check-circle-fill' : 'bi-book-fill'"></i>
      Education
    </button>

 <!-- ✅ Santé: menu au hover (comme eau potable / emploi) -->
<div class="sante-dropdown">
  <button type="button" class="btn btn-lg health-btn text-center"
    [class.is-active]="santeProjectsVisible"
    (click)="toggleSante()">

    <i class="bi" [ngClass]="santeProjectsVisible ? 'bi-check-circle-fill' : 'bi-heart-pulse-fill'"></i>
    Santé
  </button>

  <div class="sante-menu">

    <button type="button" class="sante-item"
      (click)="showSanteNouveaux()" [class.active]="activeSanteProject === 'NOUVEAUX'">
      Centres nouveaux de santé
    </button>

    <button type="button" class="sante-item"
      (click)="showSanteHopitauxExistants()" [class.active]="activeSanteProject === 'HOPITAUX_EXISTANTS'">
      Hôpitaux existants
    </button>

    <button type="button" class="sante-item"
      (click)="showSanteESSPExistants()" [class.active]="activeSanteProject === 'ESSP_EXISTANTS'">
      ESSP existants
    </button>

    <button type="button" class="sante-item"
      (click)="showSanteZoneDouirat()" [class.active]="activeSanteProject === 'DOUIRAT'">
      Zone Douirat
    </button>

    <button type="button" class="sante-item danger" (click)="hideAllSanteProjects()">
      Masquer
    </button>

  </div>
</div>


    <!-- ✅ Eau potable avec menu au hover -->
    <div class="eau-dropdown">
      <button type="button" class="btn btn-lg eau-btn text-center"
        [class.is-active]="eauPotableVisible" (click)="toggleEauPotable()">

        <i class="bi" [ngClass]="eauPotableVisible ? 'bi-check-circle-fill' : 'bi-droplet-fill'"></i>
        Eau potable
      </button>

      <div class="eau-menu">
        <button type="button" class="eau-item" (click)="showEauP1()" [class.active]="activeEauProject === 'P1'">
          Réabilitation du réseau AEP
        </button>

        <button type="button" class="eau-item" (click)="showEauP2()" [class.active]="activeEauProject === 'P2'">
          <span>AEP – Zone Industrielle El marsa</span>
        </button>

        <button type="button" class="eau-item" (click)="showEauP3()" [class.active]="activeEauProject === 'P3'">
          <span>STEP – Zone Industrielle El marsa</span>
        </button>

        <button type="button" class="eau-item" (click)="showEauP4()" [class.active]="activeEauProject === 'P4'">
          <span>Assainissement – Laayoune</span>
        </button>

        <button type="button" class="eau-item" (click)="showEauP5()" [class.active]="activeEauProject === 'P5'">
          <span>Renforcement du stockage d’eau</span>
        </button>

        <button type="button" class="eau-item" (click)="showEauP6()" [class.active]="activeEauProject === 'P6'">
          <span>Assainissement – Foum El Oued</span>
        </button>

        <button type="button" class="eau-item danger" (click)="hideAllEauProjects()">
          Masquer
        </button>
      </div>
    </div>

    <!-- ✅ Emploi: menu au hover (comme eau potable) -->
    <div class="emploi-dropdown">
      <button type="button" class="btn btn-lg emploi-btn text-center"
        [class.is-active]="emploiProjectsVisible"
        (click)="toggleEmploi()">

        <i class="bi" [ngClass]="emploiProjectsVisible ? 'bi-check-circle-fill' : 'bi-briefcase-fill'"></i>
        Emploi
      </button>

      <div class="emploi-menu">
        <button type="button" class="emploi-item"
          (click)="showEmploiZone1()" [class.active]="activeEmploiProject === 'ZONE1'">
          Extension zone d’activité (52Ha)
        </button>

        <button type="button" class="emploi-item"
          (click)="showEmploiHizam()" [class.active]="activeEmploiProject === 'HIZAM'">
          Zone d’activité Al Hizam (70Ha)
        </button>

        <button type="button" class="emploi-item"
          (click)="showEmploiAteliers()" [class.active]="activeEmploiProject === 'ATELIERS'">
          Ateliers artisanaux
        </button>

        <button type="button" class="emploi-item"
          (click)="showEmploiSites()" [class.active]="activeEmploiProject === 'SITES'">
          Sites touristiques
        </button>

        <button type="button" class="emploi-item"
          (click)="showEmploiPoints()" [class.active]="activeEmploiProject === 'POINTS'">
          Unités de valorisation (points)
        </button>

        <button type="button" class="emploi-item danger" (click)="hideAllEmploiProjects()">
          Masquer
        </button>
      </div>
    </div>

  </div>

</div>
