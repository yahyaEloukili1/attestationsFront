<div class="province-page">

  <div class="row g-4 align-items-stretch">

    <!-- ✅ COLONNE GAUCHE : INDICATEURS -->
    <div class="col-md-3 d-flex flex-column gap-4">

      <!-- ✅ INDICATEURS TERRITORIAUX -->
      <div class="panel-card indicators-card">
        <div class="panel-header text-center">Indicateurs territoriaux</div>

        <div class="panel-body">
          <div class="row g-3">

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Superficie (km²)</div>
                  <div class="indicator-value">140 018</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-map"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Densité (Hab./Km²)</div>
                  <div class="indicator-value">3,2</div>
                </div>
                <div class="indicator-icon soft-blue">
                  <i class="bi bi-people"></i>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- ✅ INDICATEURS DÉMOGRAPHIQUES -->
      <div class="panel-card indicators-card">
        <div class="panel-header text-center">Indicateurs démographiques</div>

        <div class="panel-body">
          <div class="row g-3">

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Population totale</div>
                  <div class="indicator-value">451 028</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-people-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Répartition (Urbaine / Rurale)</div>

                  <div class="split-mini">
                    <div class="split-mini-box">
                      <div class="split-mini-label">Urbaine</div>
                      <div class="split-mini-val">416 636</div>
                      <div class="split-mini-pct">92,37%</div>
                    </div>

                    <div class="split-mini-box">
                      <div class="split-mini-label">Rurale</div>
                      <div class="split-mini-val">34 392</div>
                      <div class="split-mini-pct">7,62%</div>
                    </div>
                  </div>

                </div>

                <div class="indicator-icon soft-gray">
                  <i class="bi bi-diagram-2-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Ménages</div>
                  <div class="indicator-value">106 751</div>
                </div>
                <div class="indicator-icon soft-gray">
                  <i class="bi bi-house-door-fill"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Taille du ménage</div>
                  <div class="indicator-value">3,9</div>
                  <div class="mini-note">personnes/ménage</div>
                </div>
                <div class="indicator-icon soft-blue">
                  <i class="bi bi-people"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Femmes</div>
                  <div class="indicator-value">49%</div>
                </div>
                <div class="indicator-icon soft-red">
                  <i class="bi bi-gender-female"></i>
                </div>
              </div>
            </div>

            <div class="col-6">
              <div class="indicator-item">
                <div class="indicator-text">
                  <div class="indicator-title">Hommes</div>
                  <div class="indicator-value">51%</div>
                </div>
                <div class="indicator-icon soft-indigo">
                  <i class="bi bi-gender-male"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Taux d’urbanisation</div>
                  <div class="indicator-value">92,4%</div>
                </div>
                <div class="indicator-icon soft-green">
                  <i class="bi bi-building"></i>
                </div>
              </div>
            </div>

            <div class="col-12">
              <!-- <div class="indicator-item indicator-item-wide">
                <div class="indicator-text">
                  <div class="indicator-title">Évolution de la population</div>

                  <div class="evo-mini">
                    <div class="evo-mini-item">
                      <div class="evo-mini-n">316 578</div>
                      <div class="evo-mini-y">2004</div>
                    </div>
                    <div class="evo-mini-item">
                      <div class="evo-mini-n">367 758</div>
                      <div class="evo-mini-y">2014</div>
                    </div>
                    <div class="evo-mini-item">
                      <div class="evo-mini-n">451 028</div>
                      <div class="evo-mini-y">2024</div>
                    </div>
                  </div>

                </div>
                <div class="indicator-icon soft-yellow">
                  <i class="bi bi-graph-up"></i>
                </div>
              </div> -->
            </div>

          </div>
        </div>
      </div>

      <!-- ✅ INDICATEURS SOCIO-ÉCONOMIQUES -->
   
    </div>

    <!-- ✅ COLONNE DROITE : MAP -->
    <div class="col-md-6">
      <div class="panel-card map-card">
        <div class="panel-header text-center">Province de Laayoune</div>
        <div class="panel-body map-body">
          <div #mapContainer id="map"></div>
        </div>
      </div>
    </div>
   <div class="col-md-3 d-flex flex-column gap-4">

  <!-- ✅ INDICATEURS SOCIO-ÉCONOMIQUES -->
  <div class="panel-card indicators-card">
    <div class="panel-header text-center">Indicateurs socio-économiques</div>

    <div class="panel-body">
      <div class="row g-3">

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Taux d’activité</div>
              <div class="indicator-value">46,4%</div>
              <div class="mini-note">(41,6% National)</div>
            </div>
            <div class="indicator-icon soft-indigo">
              <i class="bi bi-briefcase-fill"></i>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Pauvreté multi-dimensionnelle</div>
              <div class="indicator-value">2,40%</div>
              <div class="mini-note">(6,8% National)</div>
            </div>
            <div class="indicator-icon soft-gray">
              <i class="bi bi-cash-coin"></i>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Taux de chômage</div>
              <div class="indicator-value">26,6%</div>
              <div class="mini-note">(21,3% National)</div>
            </div>
            <div class="indicator-icon soft-red">
              <i class="bi bi-exclamation-triangle-fill"></i>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Taux de vulnérabilité</div>
              <div class="indicator-value">1,3%</div>
              <div class="mini-note">(12,9% National)</div>
            </div>
            <div class="indicator-icon soft-yellow">
              <i class="bi bi-shield-fill-exclamation"></i>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Préscolarisation</div>
              <div class="indicator-value">…%</div>
              <div class="mini-note">(62,7% National)</div>
            </div>
            <div class="indicator-icon soft-green">
              <i class="bi bi-mortarboard-fill"></i>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="indicator-item">
            <div class="indicator-text">
              <div class="indicator-title">Scolarisation (6 ans et +)</div>
              <div class="indicator-value">96,6%</div>
              <div class="mini-note">(95,8% National)</div>
            </div>
            <div class="indicator-icon soft-blue">
              <i class="bi bi-book-fill"></i>
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="indicator-item indicator-item-wide">
            <div class="indicator-text">
              <div class="indicator-title">Analphabétisme (10 ans et +)</div>
              <div class="indicator-value">15,3%</div>
              <div class="mini-note">(24,8% National)</div>
            </div>
            <div class="indicator-icon soft-indigo">
              <i class="bi bi-journal-text"></i>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ✅ NOUVEAU : Evolution de la population de la région (SOUS socio-éco) -->
  <div class="panel-card evolution-card">
    <div class="panel-header text-center">Evolution de la population de la région</div>

    <div class="panel-body evo-body">
      <div class="evo-chart">
        <!-- SVG simple (propre + léger) -->
        <svg class="evo-svg" viewBox="0 0 520 170" preserveAspectRatio="none">
          <!-- zone chart -->
          <rect x="45" y="18" width="455" height="105" class="evo-area"/>

          <!-- grilles -->
          <line x1="45" y1="123" x2="500" y2="123" class="evo-grid"/>
          <line x1="45" y1="88"  x2="500" y2="88"  class="evo-grid"/>
          <line x1="45" y1="53"  x2="500" y2="53"  class="evo-grid"/>

          <!-- axe Y (juste indicatif) -->
          <text x="10" y="127" class="evo-y">0</text>
          <text x="10" y="92"  class="evo-y">200000</text>
          <text x="10" y="57"  class="evo-y">400000</text>
          <text x="10" y="22"  class="evo-y">600000</text>

          <!-- points (approx visuels) -->
          <!-- x positions -->
          <!-- 2004 -->
          <circle cx="120" cy="66" r="7" class="evo-dot"/>
          <text x="120" y="45" text-anchor="middle" class="evo-val">316578</text>

          <!-- 2014 -->
          <circle cx="285" cy="58" r="7" class="evo-dot"/>
          <text x="285" y="37" text-anchor="middle" class="evo-val">367758</text>

          <!-- 2024 -->
          <circle cx="450" cy="44" r="7" class="evo-dot"/>
          <text x="450" y="23" text-anchor="middle" class="evo-val">451028</text>

          <!-- courbe -->
          <polyline points="120,66 285,58 450,44" class="evo-line"/>

          <!-- axe X -->
          <text x="120" y="155" text-anchor="middle" class="evo-x">2004</text>
          <text x="285" y="155" text-anchor="middle" class="evo-x">2014</text>
          <text x="450" y="155" text-anchor="middle" class="evo-x">2024</text>
        </svg>
      </div>
    </div>
  </div>

</div>


  </div>

  <!-- ✅ BUTTONS -->
  <div class="hstack gap-2 mt-5 justify-content-center">
    <button type="button" class="btn btn-lg mise-btn text-center"
      [class.is-active]="miseVisible" (click)="toggleMise()">
      <i class="bi" [ngClass]="miseVisible ? 'bi-check-circle-fill' : 'bi-geo-alt-fill'"></i>
      Mise à niveau
    </button>

    <button type="button" class="btn btn-lg education-btn text-center"
      [class.is-active]="educationVisible" (click)="toggleEducation()">
      <i class="bi" [ngClass]="educationVisible ? 'bi-check-circle-fill' : 'bi-book-fill'"></i>
      Education
    </button>

    <button type="button" class="btn btn-lg health-btn text-center"
      [class.is-active]="santeVisible" (click)="toggleSante()">
      <i class="bi" [ngClass]="santeVisible ? 'bi-check-circle-fill' : 'bi-heart-pulse-fill'"></i>
      Santé
    </button>

    <button type="button" class="btn btn-lg eau-btn text-center"
      [class.is-active]="eauPotableVisible" (click)="toggleEauPotable()">
      <i class="bi" [ngClass]="eauPotableVisible ? 'bi-check-circle-fill' : 'bi-droplet-fill'"></i>
      Eau potable
    </button>

    <button type="button" class="btn btn-lg emploi-btn text-center"
      [class.is-active]="emploiVisible" (click)="toggleEmploi()">
      <i class="bi" [ngClass]="emploiVisible ? 'bi-check-circle-fill' : 'bi-briefcase-fill'"></i>
      Emploi
    </button>
  </div>

</div>
