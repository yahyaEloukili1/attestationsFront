
<div class="row justify-content-center dashboard-container">

  <!-- üîπ INDICATEURS GAUCHE -->
  <div class="col-md-3 d-flex flex-column gap-4">

    <!-- üîπ INDICATEURS D√âMOGRAPHIQUES -->
    <div class="indicator-card">
      <h5 class="text-center mb-4 indicator-title">
        Indicateurs d√©mographiques
      </h5>

      <div class="row g-3">

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-people-fill text-primary"></i>
            <div class="kpi-content">
              <div class="kpi-label">Population</div>
              <div class="kpi-value">28 848</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-house-door-fill text-success"></i>
            <div class="kpi-content">
              <div class="kpi-label">M√©nages</div>
              <div class="kpi-value">8 396</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-gender-male text-info"></i>
            <div class="kpi-content">
              <div class="kpi-label">Hommes</div>
              <div class="kpi-value">44,7%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-gender-female text-danger"></i>
            <div class="kpi-content">
              <div class="kpi-label">Femmes</div>
              <div class="kpi-value">55,3%</div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- üîπ INDICATEURS TERRITORIAUX -->
    <div class="indicator-card">
      <h5 class="text-center mb-4 indicator-title">
        Indicateurs territoriaux
      </h5>

      <div class="row g-3">

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-aspect-ratio-fill text-secondary"></i>
            <div class="kpi-content">
              <div class="kpi-label">Superficie</div>
              <div class="kpi-value">34 km¬≤</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-people-fill text-warning"></i>
            <div class="kpi-content">
              <div class="kpi-label">Densit√©</div>
              <div class="kpi-value">848,5 Hab./Km¬≤</div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  <!-- üîπ MAP CENTRE -->
  <div class="col-md-6">
    <div class="map-card">
      <div class="map-title">
        Commune de El Marsa
      </div>
      <div #mapContainer class="map-only"></div>
    </div>
  </div>

  <!-- üîπ INDICATEURS DROITE -->
  <div class="col-md-3">

    <div class="indicator-card">
      <h5 class="text-center mb-4 indicator-title">
        Indicateurs socio-√©conomiques
      </h5>

      <div class="row g-3">

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-activity text-primary"></i>
            <div class="kpi-content">
              <div class="kpi-label">Taux d‚Äôactivit√©</div>
              <div class="kpi-value">59%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-people text-danger"></i>
            <div class="kpi-content">
              <div class="kpi-label">Pauvret√© multidimensionnelle</div>
              <div class="kpi-value">2,8%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-briefcase-fill text-dark"></i>
            <div class="kpi-content">
              <div class="kpi-label">Taux de ch√¥mage</div>
              <div class="kpi-value">9,5%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-shield-exclamation text-warning"></i>
            <div class="kpi-content">
              <div class="kpi-label">Vuln√©rabilit√©</div>
              <div class="kpi-value">1,7%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-people-fill text-info"></i>
            <div class="kpi-content">
              <div class="kpi-label">Pr√©scolarisation</div>
              <div class="kpi-value">97,49%</div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="kpi">
            <i class="bi bi-mortarboard-fill text-success"></i>
            <div class="kpi-content">
              <div class="kpi-label">Scolarisation (6+)</div>
              <div class="kpi-value">96%</div>
            </div>
          </div>
        </div>

        <div class="col-md-12">
          <div class="kpi kpi-full">
            <i class="bi bi-book-fill text-secondary"></i>
            <div class="kpi-content">
              <div class="kpi-label">Analphab√©tisme (10+)</div>
              <div class="kpi-value">15,1%</div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div class="text-center mt-3">

     <button
    type="button"
    class="btn btn-lg education-btn text-center"
   
    (click)="openEducationCharts()"
    style="width: 470px;"
  >
    <i class="bi bi-bar-chart-fill me-1"></i>
    Voir indicateurs √©ducatifs
  </button>
</div>


    

  </div>
  
  <!-- üîπ INDICATEURS √âDUCATIFS (GRAPHIQUES) -->
 <div class="hstack gap-2 mt-2 justify-content-center mt-5 flex-wrap">

  <!-- ‚úÖ MISE TOGGLE -->
  <button
    type="button"
    class="btn btn-lg mise-btn text-center"
    [class.is-active]="miseVisible"
    (click)="toggleMise()"
  >
    <i class="bi" [ngClass]="miseVisible ? 'bi-check-circle-fill' : 'bi-geo-alt-fill'"></i>
    Mise √† niveau 
  </button>

  <!-- ‚úÖ EDUCATION TOGGLE -->
  <button
    type="button"
    class="btn btn-lg education-btn text-center"
    [class.is-active]="educationVisible"
    (click)="toggleEducation()"
  >
    <i class="bi" [ngClass]="educationVisible ? 'bi-check-circle-fill' : 'bi-book-fill'"></i>
    Education
  </button>

  <!-- ‚úÖ SANTE TOGGLE -->
  <button
    type="button"
    class="btn btn-lg health-btn text-center"
    [class.is-active]="santeVisible"
    (click)="toggleSante()"
  >
    <i class="bi" [ngClass]="santeVisible ? 'bi-check-circle-fill' : 'bi-heart-pulse-fill'"></i>
    Sant√©
  </button>

  <!-- ‚úÖ EAU TOGGLE -->
<button
  type="button"
  class="btn btn-lg water-btn text-center"
  [class.is-active]="eauPotableVisible"
  (click)="toggleEauPotable()"
>
  <i class="bi" [ngClass]="eauPotableVisible ? 'bi-check-circle-fill' : 'bi-droplet-fill'"></i>
  Eau potable
</button>

  <!-- ‚úÖ EMPLOI TOGGLE -->
  <button
    type="button"
    class="btn btn-lg emploi-btn text-center"
    [class.is-active]="emploiVisible"
    (click)="toggleEmploi()"
  >
    <i class="bi" [ngClass]="emploiVisible ? 'bi-check-circle-fill' : 'bi-briefcase-fill'"></i>
    Emploi
  </button>

</div>

</div>

<div class="popup-backdrop" *ngIf="showEducationCharts">
  <div class="popup-card">

    <div class="popup-header">
      <h5 class="text-center">Indicateurs √©ducatifs ‚Äì El Marsa</h5>
      <button class="close-btn" (click)="closeEducationCharts()">√ó</button>
    </div>

    <div class="popup-body">
      <div class="row g-3">
        <div class="col-md-4"><canvas id="encombrementChart"></canvas></div>
        <div class="col-md-4"><canvas id="abandonChart"></canvas></div>
        <div class="col-md-4"><canvas id="redoublementChart"></canvas></div>
      </div>
    </div>

  </div>
</div>
